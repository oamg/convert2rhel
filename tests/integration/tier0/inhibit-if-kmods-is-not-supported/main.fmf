summary: Handle custom, tainted and force loaded kernel modules.
description: |
    Verify, that Convert2RHEL is able to handle custom, tainted and force loaded kernel modules.

adjust+:
    # TODO (danmyway) disable for epel7 due to the impossibility of force loading the kmod
    # TODO (danmyway) after the merge of the tier0 refactor disable just the force load kmod test
    - environment+:
        PROMPT_AMOUNT: 4
      when: distro == centos-8, alma, rocky
    - environment+:
        PROMPT_AMOUNT: 3
      when: distro == centos-7, oraclelinux-7
    - environment+:
        PROMPT_AMOUNT: 2
      when: distro == oraclelinux-8

tier: 0

tag+:
  - kernel

test: |
  pytest -svv
